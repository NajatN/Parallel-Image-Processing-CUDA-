<!DOCTYPE html>
<html>
<head>
    <title>CUDA Image Processing</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
    </style>
</head>
<body>
    <h1>CUDA Image Processing</h1>
    <p>Select an image and choose an image processing task.</p>
    <form id="uploadForm" action="/your-server-endpoint" method="post" enctype="multipart/form-data">
        <div id="imageTaskWrapper">
            <!-- Image-Task pairs will be dynamically added here -->
        </div>
        <button type="button" onclick="addImageTaskPair()">Add Image and Task</button>
        <br><br>
        <input type="submit" value="Process Images">
    </form>

    <script>
        let pairCount = 0;

        function addImageTaskPair() {
            const wrapper = document.getElementById('imageTaskWrapper');

            // Create new div for this pair
            const pairDiv = document.createElement('div');
            pairDiv.id = `pair${pairCount}`;

            // Create file input
            const fileInput = document.createElement('input');
            fileInput.type = 'file';
            fileInput.name = `imageFile${pairCount}`;
            fileInput.accept = 'image/*';
            fileInput.required = true;

            // Create select for tasks
            const taskSelect = document.createElement('select');
            taskSelect.name = `task${pairCount}`;

            const tasks = ['brightness', 'grayscale', 'channel_correction', 'sharpening', 'edge_detection', 'blurring'];
            for (const task of tasks) {
                const option = document.createElement('option');
                option.value = task;
                option.text = task.charAt(0).toUpperCase() + task.slice(1);
                taskSelect.add(option);
            }

            // Add elements to pair div
            pairDiv.appendChild(fileInput);
            pairDiv.appendChild(taskSelect);

            // Add pair div to wrapper
            wrapper.appendChild(pairDiv);

            pairCount++;
        }

        // Add the first pair when the page loads
        window.onload = addImageTaskPair;
    </script>
</body>
</html>
